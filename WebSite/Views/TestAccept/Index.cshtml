@{
    ViewData["Title"] = "نمایش پذیرش آزمایش";
    Layout = "~/Views/Shared/_masterLayout.cshtml";
}

@section Script
    {
    <script src="~/website/TestAccept.js" asp-append-version="true"></script>
    <link href="~/css/my-style.css" rel="stylesheet" />
    <link href="~/css/controlpanel-style.css" rel="stylesheet" />

    <link href="~/date_picker/PersianDatePicker.min.css" rel="stylesheet" />
    <script src="~/date_picker/PersianDatePicker.min.js"></script>
 }

<input id="TestAcceptId_Selected" type="hidden" />
<input id="controlPlanId_Selected" type="hidden" />
<input id="testRequestId_Selected" type="hidden" />

<input id="TestAcceptDetailId_Selected" type="hidden" />
<input id="confirmCode" type="hidden" />

<input type="hidden" id="PersianToday" data-value='@ViewBag.MyDate' />

<div class="row">

    <div class="card bg-gradient pagerHeader">
        <div class="content table-responsive table-full-width">
            <label style="padding-right : 10px  ; font-size:20px;"> پذیرش آزمایش </label>
        </div>
    </div>
    <div class="card m-0" style="align-items: center; height:380px">
        <div class="container" style="margin-top:15px">

            <div class=" table-responsive" style="width:100%">
                <table id="tblTestAccept" class="table table-striped table-bordered text-right" style="cursor:pointer;width:100%">
                    <thead class="thead-color">
                        <tr>

                            <th class="th-color">شماره طرح کنترل </th>
                            <th class="th-color">شماره درخواست</th>
                            <th class="th-color">شماره پذیرش</th>
                            <th class="th-color"> تاریخ ایجاد </th>
                            <th class="th-color">وضعیت </th>
                            <th class="th-color"></th>
                            <th class="th-color" width="5%"></th>
                            <th class="th-color" width="5%">
                                <a style="font-size:20px;cursor: pointer;" onclick="ShowPopUp_InsertTestAccept()"> <i class="fa fa-plus-circle" style="color:white"></i> </a>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>

        </div>
    </div>

</div>

<div class="row" style="margin-top:15px">
    <div class="card m-0" style="align-items: center; height:750px">
        <div class="container" style="margin-top:15px ">

            <div class=" table-responsive" style="width:100%">
                <table id="tblTestAcceptDetail" class="table table-striped table-bordered text-right">
                    <thead style=" background-color: #4c607b; margin-right:15px">
                        <tr>
                            <th class="th-color" style="width:100px">نام فرآیند </th>
                            <th class="th-color" style="width:150px">نوع فرآیند</th>
                            <th class="th-color" style="width:200px">نام قطعه </th>
                            <th class="th-color" style="width:200px">شرح تست </th>
                            <th class="th-color" style="width:120px">فرآیند</th>
                            <th class="th-color">هزینه</th>
                            <th class="th-color">اهمیت</th>
                            <th class="th-color">حداقل</th>
                            <th class="th-color">حداکثر</th>
                            <th class="th-color">واحد</th>
                            <th class="th-color">استاندارد</th>
                            <th class="th-color" style="width:200px">شرح</th>
                            <th class="th-color">میانگین</th>
                            <th class="th-color">کد ابزار</th>
                            <th class="th-color">تاریخ شروع</th>
                            <th class="th-color">تاریخ پایان</th>
                            <th class="th-color">رطوبت</th>
                            <th class="th-color">دما</th>
                            <th class="th-color">وضعیت </th>
                            <th class="th-color" width="5%">
                                <a style="font-size:20px;cursor: pointer;" onclick="ShowPopUp_InsertTestAcceptDetail()"> <i class="fa fa-plus-circle" style="color:white"></i> </a>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>

<!-- Modal Popup -->
<div id="insertTestAcceptModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document" style="max-width: 20%">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <label>ثبت / ویرایش اطلاعات</label>
                <img src="~/img/modal-header.png" />
            </div>
            <div id="insertTestAcceptModal_body" class="modal-body">
                <div class="row alertBox hidden" id="alertBox">
                    <span role="alert" class="alert"></span>
                </div>
                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">طرح کنترل</label>
                            <span style="color:red">*</span>
                            <select class="form-control" id="controlPlan" style="width:300px"></select>
                            <input id="controlPlanId" class="form-control" type="hidden" readonly="readonly" />
                        </div>
                    </div>
                </div>
                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">شماره درخواست  </label>
                            <span style="color:red">*</span>
                            <select class="form-control" id="testRequest" name="testRequest" style="width:300px"></select>
                            <input id="testRequestId" class="form-control" type="hidden" readonly="readonly" />
                        </div>
                    </div>
                </div>

                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">شماره پذیرش</label>
                            <span style="color:red">*</span>
                            <input id="txt_ReceptionNumber" class="form-control" type="text" />
                        </div>
                    </div>
                </div>
                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">تاریخ ایجاد</label>
                            <span style="color:red">*</span>
                            <input class="form-control" id="txt_CreateDate" onclick="PersianDatePicker.Show(this, '@ViewBag.MyDate')" />
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6"></div>
                    <div class="col-6">
                        <input type="submit" value="ذخیره" onclick="InsertTestAccept()" style="width:90px" class="btn btn-sm btn-success" />
                        <input type="submit" value="انصراف" onclick="CloseTestAccept()" class="btn btn-sm btn-danger" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal Popup -->
<div id="updateTestAcceptModal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document" style="max-width: 20%">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <label>   ویرایش اطلاعات</label>
                <img src="~/img/modal-header.png" />
            </div>
            <div id="updateTestAcceptModal_body" class="modal-body">
                <div class="row alertBox hidden" id="alertBox">
                    <span role="alert" class="alert"></span>
                </div>
                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">طرح کنترل</label>
                            <span style="color:red">*</span>
                            <select class="form-control" id="controlPlan_forUpdate" name="controlPlan_forUpdate" style="width:300px"></select>
                            <input id="controlPlanId_forUpdate" class="form-control" type="hidden" readonly="readonly" />
                        </div>
                    </div>
                </div>
                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">شماره درخواست  </label>
                            <span style="color:red">*</span>
                            <select class="form-control" id="testRequest_update" name="testRequest_update" style="width:300px"></select>
                            <input id="testRequestId_update" class="form-control" type="hidden" readonly="readonly" />
                        </div>
                    </div>
                </div>
                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">شماره پذیرش</label>
                            <span style="color:red">*</span>
                            <input id="txt_ReceptionNumber_Update" class="form-control" type="text" />
                        </div>
                    </div>
                </div>

                <div class="row" style="padding-bottom:20px">
                    <div class="col-8">
                        <div class="form-group">
                            <label class="control-label">تاریخ ایجاد</label>
                            <span style="color:red">*</span>
                            <input class="form-control" id="txt_CreateDate_forUpdate" onclick="PersianDatePicker.Show(this, '@ViewBag.MyDate')" />
                        </div>
                    </div>
                </div>
                <div class="row" style="padding-bottom:20px">
                    <div class="col-6"></div>
                    <div class="col-6" style="margin-top:19px">
                        <input type="submit" value="ویرایش" onclick="UpdateTestAccept()" style="width:90px" class="btn btn-sm btn-primary" />
                        <input type="submit" value="انصراف" onclick="CloseTestAcceptModal()" class="btn btn-sm btn-danger" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal Popup -->
<div id="insertTestAcceptDetailModal" class="modal fade" tabindex="-1"  >
    <div class="modal-dialog" role="document" style="max-width: 80%">
        <div class="modal-content modalStyle">
            <div class="modal-header">
                <label>ثبت / ویرایش اطلاعات</label>
                <img src="~/img/modal-header.png" />
            </div>

            <div id="insertTestAcceptDetailModal_body" class="modal-body">

                <div class="container" style="padding-bottom:20px;  ">
                    <div class=" table-responsive" style="width:100%">
                        <div style="height:750px; ">

                                <table id="tblTestAcceptDetail_Insert" class="table table-striped table-bordered text-right" style="width:100%">
                                    <thead class="thead-color" style="width:100%">
                                        <tr>
                                            <th class="th-color">نام فرآیند </th>
                                            <th class="th-color">نوع</th>
                                            <th class="th-color" >نام قطعه </th>
                                            <th class="th-color">شرح تست </th>
                                            <th class="th-color"  >فرآیند</th>
                                            <th class="th-color">هزینه</th>
                                            <th class="th-color">اهمیت</th>
                                            <th class="th-color">کد ابزار</th>
                                            <th class="th-color">حداقل</th>
                                            <th class="th-color">حداکثر</th>
                                            <th class="th-color">واحد</th>
                                            <th class="th-color">استاندارد</th>
                                            <th class="th-color">شرح</th>
                                            <th class="th-color">میانگین</th>
                                            <th class="th-color">تاریخ شروع</th>
                                            <th class="th-color">تاریخ پایان</th>
                                            <th class="th-color">رطوبت</th>
                                            <th class="th-color">دما</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
 
                <div class="row">
                    <div class="col-6"></div>
                    <div class="col-6">
                        <input type="submit" value="ذخیره" onclick="InsertTestAcceptDetail()" style="width:120px" class="btn btn-sm btn-success" />
                        <input type="submit" value="انصراف" onclick="CloseTestAcceptDetail()" class="btn btn-sm btn-danger" />
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
